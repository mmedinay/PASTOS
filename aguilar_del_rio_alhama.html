<!DOCTYPE html>
<html>
<meta charset="utf-8" />
<head>
	<script src="leaflet\leaflet.js"></script>
	 <link rel="stylesheet" href="leaflet\leaflet.css"/>
	 <script type="text/javascript" src="aguilar_del_rio_alhama.js"></script>
	 <script src="leaflet-search-master\src\leaflet-search.js"></script>
	 <link rel="stylesheet" href="leaflet-search-master\src\leaflet-search.css" />
 
 <style>
  #map { 
	  top: 10px;
	  width: 100%;
	  height: 100%;
	  box-shadow: 5px 5px 5px #888;
  }
 </style>
 
 </head>
  <body>
   <div id="map"></div>
 <script>
 
	var map = L.map('map', {
		center: [41.9546, -1.9836],
		zoom: 13
		
		});
		
		
	// Cargar GeoJSON desde un archivo externo

var aguilar_del_rio_alhamaJS = L.geoJson(aguilar_del_rio_alhama, {
			onEachFeature: popup,
			
		}).addTo(map);

$.getJSON("aguilar_del_rio_alhama.js", function (data) {
    aguilar_del_rio_alhamaJS.addData(data);
});

aguilar_del_rio_alhamaJS.addTo(map);

	L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
}).addTo(map);		
 
	var countryStyle = {
		'color': "#858585",
		'weight': 2,
		'opacity': 0.6
	};
	
	
		
	 
	var searchControl = new L.Control.Search({
		layer: aguilar_del_rio_alhamaJS, 
		propertyName: 'poligono',
		circleLocation: false
	});
 
	searchControl.on('search_locationfound', function(e) {
		e.layer.setStyle({fillColor: '#3f0', color: '#0f0'});
	})
	.on('search_collapsed', function(e) {
		aguilar_del_rio_alhamaJS.eachLayer(function(layer) { //restauramos el color del elemento
			aguilar_del_rio_alhamaJS.resetStyle(layer);
		});	
	});
	
	map.addControl(searchControl);
 
 </script>
 </body> 
 </html>